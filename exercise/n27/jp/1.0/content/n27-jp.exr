写像 \( f : \mathbb{R}^n \to \mathbb{R}^n \) は、すべての \( x, y \in \mathbb{R}^n \) に対してユークリッド距離を保存する、つまり

\[
\vert f(x) - f(y) \vert = \vert x - y \vert
\]

が成り立つとき、**等距離写像（イソメトリー）**と呼ばれます。

### 課題：

1. **線形イソメトリー：**

    線形イソメトリー \( T: \mathbb{R}^n \to \mathbb{R}^n \) は、直交行列 \( A \in \mathbb{R}^{n \times n} \) を用いて表されることを示しなさい。すなわち、

    \[
    T(x) = Ax, \quad A^\top A = I
    \]

2. **アフィンイソメトリー：**

    次の形のイソメトリー \( f: \mathbb{R}^n \to \mathbb{R}^n \) をすべて求めなさい：

    \[
    f(x) = Ax + b
    \]

    ここで、\( A \in \mathbb{R}^{n \times n} \) は直交行列、\( b \in \mathbb{R}^n \) はベクトルである。

3. **内積の保存：**

    \( u, v \in \mathbb{R}^n \) を単位ベクトルとするとき、線形イソメトリー \( f \) は内積を保存することを示しなさい。すなわち、

    \[
    \langle f(u), f(v) \rangle = \langle u, v \rangle
    \]

4. **特殊なイソメトリーの構成：**

    線形ではないが距離を保存するイソメトリー \( f: \mathbb{R}^n \to \mathbb{R}^n \) の例を示し、\( f \) が本当にイソメトリーであることを証明しなさい。

---

### 証明課題：\( \mathbb{R}^n \) におけるイソメトリー写像の特徴づけ

\( f: \mathbb{R}^n \to \mathbb{R}^n \) がイソメトリー、すなわち、

\[
\vert f(x) - f(y) \vert = \vert x - y \vert \quad \text{すべての } x, y \in \mathbb{R}^n \text{ に対して}
\]

を満たすとき、

### 示すべきこと：

すべてのイソメトリー \( f \) は、直交行列 \( A \) とベクトル \( b \) によるアフィン写像

\[
f(x) = Ax + b
\]

として表されるか、またはそのような写像と鏡映や平行移動の合成として表される。

---

### 発展的な注意（任意）：

\( \mathbb{R}^n \) のすべてのイソメトリーの集合は、合成演算に関して群をなすことを示しなさい。これを**ユークリッド群 \( \mathrm{E}(n) \)**という。
